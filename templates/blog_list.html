{% extends "base.html" %}
{% load static %}
{% block title %}Lunotech {% endblock %}
{% block content %}


   <div class="main-container-blog">
        <!-- Hero Section -->
        <section class="hero-section-blog">
            <h1 class="grok-blog-main-title">Tech Insights & Stories</h1>
        </section>

        <!-- Search and Filter Section -->
        <section class="search-filter-section">
            <div class="search-filter-container">
                <div class="search-container">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" class="search-input" id="searchInput">
                </div>

            </div>
        </section>

        <!-- Blog Grid -->
        <section class="blog-grid" id="blogGrid">
  {% for post in posts %}
<a class="blog-card-link" href="{{ post.get_absolute_url }}">
  <article class="blog-card"
           data-id="{{ post.id }}"
           data-category="{{ post.category }}"
           data-publish-date="{{ post.date|date:'Y-m-d' }}"
           data-tags="{% for tag in post.tags.all %}{{ tag.name }}{% if not forloop.last %},{% endif %}{% endfor %}">
    {% if post.featured %}<div class="featured-badge">Featured</div>{% endif %}
    {% if post.image %}<img src="{{ post.image.url }}" alt="{{ post.title_en }}" class="blog-image">{% endif %}
    <div class="blog-content">
      <div class="blog-meta">
        {% if post.category %}
    <span class="blog-category">
        <span class="lang-en">{{ post.category.name_en }}</span>
        <span class="lang-fa">{{ post.category.name_fa }}</span>
    </span>
    {% endif %}
      </div>
      <h3 class="blog-title blog-card-link"><a class="blog-card-link" href="{{ post.get_absolute_url }}">
        <span class="lang-fa">{{ post.title_fa }}</span>
        <span class="lang-en">{{ post.title_en }}</span>
      </a></h3>
      <p class="blog-excerpt">
        <span class="lang-fa">{{ post.description_fa|truncatechars:240 }}</span>
        <span class="lang-en">{{ post.description_en|truncatechars:240 }}</span>
      </p>

      <div class="blog-author">
        {% if post.author.avatar %}<img src="{{ post.author.avatar.url }}" alt="{{ post.author.name }}" class="author-avatar">{% endif %}
        <div class="author-info">
          <span class="author-name">{{ post.creator_name }}</span>
          <div class="author-role">{{ post.creator_title }}</div>
        </div>
      </div>

      <!-- <div class="blog-tags">
        {% for tag in post.tags.all %}
          <span class="blog-tag">{{ tag.name }}</span>
        {% endfor %}
      </div> -->

      <div class="blog-footer">
        <div class="blog-stats">
          <!-- <span>❤️ {{ post.likes|default:0 }}</span>
          <span>💬 {{ post.comments|default:0 }}</span> -->
          <span>📅 {{ post.date|date:'Y-m-d' }}</span>
        </div>
        <div class="blog-actions">
          <button class="action-btn share-btn" data-id="{{ post.id }}">
            <!-- share svg -->
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
              <polyline points="16,6 12,2 8,6"></polyline>
              <line x1="12" y1="2" x2="12" y2="15"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </article></a>
  {% empty %}
    <p>هنوز مطلبی منتشر نشده است.</p>
  {% endfor %}
</section>

                    </div>
        </section>

        <!-- Load More Button -->
        <div class="load-more-container">
            <button class="load-more-btn" id="loadMoreBtn">Load More Articles</button>
        </div>

        <!-- No Results -->
        <div class="no-results" id="noResults" style="display: none;">
            <svg class="no-results-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
            <h3>
              <span class="lang-fa">مطلبی یافت نشد</span>
              <span class="lang-en">No articles found</span>
            </h3>
            <!-- <p>Try adjusting your search terms or filters</p> -->
        </div>
    </div>
</section>
{% endblock %}
